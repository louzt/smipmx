---
const features = [
    {
        icon: "‚ö°",
        title: "Experiencia Comprobada",
        description: "M√°s de 30 a√±os en la industria nos respaldan. Nuestro equipo altamente calificado ha resuelto desaf√≠os t√©cnicos complejos para empresas l√≠deres."
    },
    {
        icon: "üéØ",
        title: "Precisi√≥n y Calidad",
        description: "Utilizamos tecnolog√≠a de √∫ltima generaci√≥n y procesos rigurosos de control de calidad para garantizar que cada pieza cumpla con las especificaciones exactas."
    },
    {
        icon: "üîß",
        title: "Soluciones Integrales",
        description: "Desde el dise√±o hasta la fabricaci√≥n y mantenimiento, ofrecemos un servicio completo que reduce tiempos y costos operativos."
    }
];
---

<section id="nosotros" class="min-h-screen bg-smip-black text-white overflow-hidden flex items-center">
    <div class="container mx-auto px-4 py-20">
        <h2 class="text-4xl font-bold text-center mb-20 fade-in">¬øPor Qu√© Elegirnos?</h2>
        
        <!-- Features Cards -->
        <div class="grid md:grid-cols-3 gap-8 mb-20">
            {features.map((feature, index) => (
                <div class="fade-in-left" style={`animation-delay: ${index * 200}ms;`}>
                    <div class="bg-white/10 backdrop-blur rounded-lg p-8 hover-lift h-full border-l-4 border-smip-red feature-card">
                        <div class="icon-container mb-6">
                            <span class="text-4xl icon-animation" style={`animation-delay: ${(index * 200) + 500}ms;`}>
                                {feature.icon}
                            </span>
                        </div>
                        <h3 class="text-xl font-bold mb-4">{feature.title}</h3>
                        <p class="opacity-80">{feature.description}</p>
                    </div>
                </div>
            ))}
        </div>

        <!-- Info Cards - Full width layout -->
        <div class="grid md:grid-cols-2 gap-8 w-full mx-auto">
            <div class="fade-in-right" style="animation-delay: 600ms;">
                <div class="bg-smip-black rounded-lg p-8 border border-white/10 h-full">
                    <h3 class="text-2xl font-bold text-smip-red mb-6">Certificaciones y Est√°ndares</h3>
                    <ul class="space-y-4">
                        <li class="flex items-start hover-lift p-2">
                            <span class="text-smip-red mr-3">‚úì</span>
                            <span>Cumplimiento con est√°ndares ISO para procesos de manufactura</span>
                        </li>
                        <li class="flex items-start hover-lift p-2">
                            <span class="text-smip-red mr-3">‚úì</span>
                            <span>Personal certificado en procesos especializados de soldadura</span>
                        </li>
                        <li class="flex items-start hover-lift p-2">
                            <span class="text-smip-red mr-3">‚úì</span>
                            <span>Equipamiento de √∫ltima generaci√≥n calibrado y certificado</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="fade-in-left" style="animation-delay: 800ms;">
                <div class="bg-smip-black rounded-lg p-8 border border-white/10 h-full">
                    <h3 class="text-2xl font-bold text-smip-red mb-6">Compromiso con la Excelencia</h3>
                    <ul class="space-y-4">
                        <li class="flex items-start hover-lift p-2">
                            <span class="text-smip-red mr-3">‚úì</span>
                            <span>Tiempo de respuesta garantizado para minimizar paros de producci√≥n</span>
                        </li>
                        <li class="flex items-start hover-lift p-2">
                            <span class="text-smip-red mr-3">‚úì</span>
                            <span>Seguimiento detallado de proyectos con reportes peri√≥dicos</span>
                        </li>
                        <li class="flex items-start hover-lift p-2">
                            <span class="text-smip-red mr-3">‚úì</span>
                            <span>Garant√≠a en todos nuestros trabajos y servicios</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    .fade-in-left {
        opacity: 0;
        transform: translateX(-50px);
        transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1),
                    transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .fade-in-right {
        opacity: 0;
        transform: translateX(50px);
        transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1),
                    transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .fade-in-left.visible,
    .fade-in-right.visible {
        opacity: 1;
        transform: translateX(0);
    }

    @keyframes slideInFromLeft {
        0% {
            opacity: 0;
            transform: translateX(-100px);
        }
        100% {
            opacity: 1;
            transform: translateX(0);
        }
    }

    @keyframes slideInFromRight {
        0% {
            opacity: 0;
            transform: translateX(100px);
        }
        100% {
            opacity: 1;
            transform: translateX(0);
        }
    }

    @keyframes iconPop {
        0% {
            opacity: 0;
            transform: scale(0.5);
        }
        70% {
            transform: scale(1.2);
        }
        100% {
            opacity: 1;
            transform: scale(1);
        }
    }

    .icon-container {
        height: 4rem;
        display: flex;
        align-items: center;
    }

    .icon-animation {
        opacity: 0;
        transform: scale(0.5);
    }

    .icon-animation.visible {
        animation: iconPop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    .feature-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(220, 38, 38, 0.1);
    }
    
    /* Prevent icon from disappearing on hover */
    .feature-card:hover .icon-animation {
        opacity: 1;
        transform: scale(1);
    }
</style>

<script>
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                // Add visible class with delay based on index
                setTimeout(() => {
                    entry.target.classList.add('visible');
                    
                    // If the element has an icon, animate it after the card animation
                    const icon = entry.target.querySelector('.icon-animation');
                    if (icon) {
                        setTimeout(() => {
                            icon.classList.add('visible');
                        }, 300);
                    }
                }, index * 200);
            }
        });
    }, {
        threshold: 0.2,
        rootMargin: '50px'
    });

    document.addEventListener('DOMContentLoaded', () => {
        const elements = document.querySelectorAll('.fade-in-left, .fade-in-right, .feature-card');
        elements.forEach((element) => {
            observer.observe(element);
        });
        
        // Make sure icons are shown initially
        setTimeout(() => {
            document.querySelectorAll('.icon-animation').forEach(icon => {
                if (!icon.classList.contains('visible')) {
                    icon.classList.add('visible');
                }
            });
        }, 1500);
    });
</script>